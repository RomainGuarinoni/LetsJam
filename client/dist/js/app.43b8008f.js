(function(t){function e(e){for(var a,s,r=e[0],c=e[1],l=e[2],m=0,p=[];m<r.length;m++)s=r[m],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},i={app:0},o=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0032":function(t,e,n){t.exports=n.p+"img/Descartes.8f443d7f.jpg"},"22c4":function(t,e,n){"use strict";n("56f0")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],s={name:"App",mounted:function(){null!=localStorage.getItem("connect")?this.$router.push({name:"Home"}):this.$router.push({name:"Connect"})}},r=s,c=(n("b8b4"),n("2877")),l=Object(c["a"])(r,i,o,!1,null,"83309b1e",null),u=l.exports,m=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"box"}},[n("div",{staticClass:"container"},[t._m(0),n("div",{staticClass:"salleCard"},[n("SalleCard",{attrs:{index:"1",name:"Descartes",status:"libre",img:"'../assets/Descartes.jpg'"}}),n("SalleCard",{attrs:{index:"2",name:"Lavoisier",status:"Prise",img:"'../assets/Lavoisier.jpg'"}})],1)]),n("div",{staticClass:"bottom"},[n("div",{staticClass:"info",on:{click:t.question}},[n("p",[t._v("Un problème?")])]),n("div",{staticClass:"my-2 profil",on:{click:t.changeProfil}},[n("v-btn",{attrs:{color:"warning",fab:"",dark:""}},[n("v-icon",[t._v("mdi-account-circle")])],1)],1)])])},f=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"titre"},[n("p",[n("span",{staticClass:"underline"},[t._v("CHOISISSEZ")]),t._v(" VOTRE SALLE")])])}],d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.api?n("div",{staticClass:"all"},[n("div",{staticClass:"button",class:{green:t.info.available,red:!t.info.available},on:{click:t.update}},[n("i",{staticClass:"far fa-check-circle"}),t.info.available?n("p",[t._v("Réserver")]):t.info.available||t.info.nom!=t.nom||t.info.prenom!=t.prenom?n("p",[t._v(" Attendre... ")]):n("p",[t._v(" Libérer ")])]),n("div",{style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.400), rgba(0, 0, 0, 0.300)),url("+t.imgTab[t.index-1]+")"},attrs:{id:"card"}},[n("div",{staticClass:"header"},[n("div",{staticClass:"salleInfo"},[n("p",{staticClass:"salleNumber"},[t._v("Salle "+t._s(t.index))]),n("p",{staticClass:"name"},[t._v(t._s(t.name))])]),n("div",{staticClass:"cercle",class:{green:this.info.available,red:!this.info.available}})]),n("div",{staticClass:"status"},[n("div",{staticClass:"statusContent"},[n("div",{staticClass:"text"},[t.info.available?n("p",{staticClass:"greenFont"},[t._v("Libre")]):n("p",{staticClass:"redFont"},[t._v("occupée par "+t._s(t.fullName)+" "+t._s(t.time))])])])])])]):t._e()},v=[],h=(n("b0c0"),n("d3b7"),n("0032")),g=n.n(h),b=n("808d"),C=n.n(b),_=n("bc3a"),x=n.n(_),y=n("8e27"),S=n.n(y),w={props:["index","name","status","img"],data:function(){return{nom:localStorage.getItem("nom"),prenom:localStorage.getItem("prenom"),imgTab:[g.a,C.a],api:!1,infoTab:Array,info:null,socket:S.a.connect("http://localhost:3000")}},computed:{fullName:function(){var t=this.info.prenom+" "+this.info.nom;return t},time:function(){var t="depuis environ ",e=new Date,n=new Date(this.info.date);return e.getHours()-n.getHours()==0?e.getMinutes()-n.getMinutes()<5?t+="5 minutes":e.getMinutes()-n.getMinutes()<10?t+="10 minutes":e.getMinutes()-n.getMinutes()<15?t+="15 minutes":e.getMinutes()-n.getMinutes()<30?t+="30 minutes":t+="1 heure":e.getMinutes()-n.getMinutes()<30?t+="1 heure et 30min":t+="2 heures",t}},methods:{update:function(){if(1==this.info.available){var t={salle:this.name,available:!1,nom:this.nom,prenom:this.prenom,date:new Date};this.socket.emit("UPDATE",JSON.stringify(t)),this.name,this.info=t,console.log(this.infoTab),console.log(this.info)}else if(this.info.nom==this.nom&&this.info.prenom==this.prenom){var e={salle:this.name,available:!0,nom:"",prenom:"",date:new Date};this.socket.emit("UPDATE",JSON.stringify(e)),this.name,this.info=e}}},mounted:function(){var t=this;x.a.get("http://localhost:3000/info").then((function(e){t.infoTab=e.data,"Lavoisier"==t.name?t.info=t.infoTab[0]:t.info=t.infoTab[1]})).catch((function(t){return console.log(t)})).finally((function(){return t.api=!0})),this.socket.on("NEW",(function(e){console.log("RECEIVED NEW DATA : "+e);var n=JSON.parse(e);"Lavoisier"==t.name?t.info=n[0]:t.info=n[1]}))}},O=w,j=(n("22c4"),Object(c["a"])(O,d,v,!1,null,"e487be7e",null)),E=j.exports,P={components:{SalleCard:E},methods:{changeProfil:function(){this.$router.push({name:"Connect"})},question:function(){this.$router.push({name:"Question"})}}},k=P,T=(n("8b71"),n("6544")),I=n.n(T),M=n("8336"),D=n("132d"),N=Object(c["a"])(k,p,f,!1,null,null,null),$=N.exports;I()(N,{VBtn:M["a"],VIcon:D["a"]});var L,A,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"connectBox"},[n("div",{staticClass:"form"},[t._m(0),n("div",{staticClass:"formData"},[n("div",{staticClass:"formInput"},[n("p",[t._v("Nom")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.nom,expression:"nom"}],attrs:{type:"text",id:"nom",placeholder:"Nom"},domProps:{value:t.nom},on:{input:function(e){e.target.composing||(t.nom=e.target.value)}}})]),n("div",{staticClass:"formInput"},[n("p",[t._v("Prénom")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.prenom,expression:"prenom"}],attrs:{type:"text",id:"prenom",placeholder:"Prénom"},domProps:{value:t.prenom},on:{input:function(e){e.target.composing||(t.prenom=e.target.value)}}})])]),n("div",{staticClass:"buttonBox"},[n("div",{staticClass:"button",on:{click:t.connect}},[n("i",{staticClass:"far fa-check-circle"}),n("p",[t._v("C'est parti")])]),t.error?n("p",{staticClass:"error"},[n("i",{staticClass:"fas fa-exclamation-triangle"}),t._v("remplissez tous les champs ")]):t._e()])])])},J=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"connectTitle"},[n("h1",[n("span",{staticClass:"underline"},[t._v("Qui e")]),t._v("s-tu?")])])}],V={data:function(){return{nom:"",prenom:"",error:!1}},methods:{connect:function(){""!=this.nom&&""!=this.prenom?(localStorage.setItem("nom",this.nom),localStorage.setItem("prenom",this.prenom),localStorage.setItem("connect","true"),this.$router.push({name:"Home"}),this.error=!1):this.error=!0}}},q=V,B=(n("9c6a"),Object(c["a"])(q,H,J,!1,null,"70960576",null)),Q=B.exports,R={},U=Object(c["a"])(R,L,A,!1,null,null,null),F=U.exports;a["a"].use(m["a"]);var W=[{path:"/salle",name:"Home",component:$},{path:"/connect",name:"Connect",component:Q},{path:"/questions",name:"Question",component:F}],z=new m["a"]({routes:W}),Z=z,G=n("f309");a["a"].use(G["a"]);var K=new G["a"]({});a["a"].config.productionTip=!1,new a["a"]({router:Z,vuetify:K,render:function(t){return t(u)}}).$mount("#app")},"56f0":function(t,e,n){},"5c80":function(t,e,n){},"808d":function(t,e,n){t.exports=n.p+"img/Lavoisier.2de6c92a.jpg"},"88d7":function(t,e,n){},"8b71":function(t,e,n){"use strict";n("88d7")},"9c6a":function(t,e,n){"use strict";n("5c80")},b8b4:function(t,e,n){"use strict";n("de98")},de98:function(t,e,n){}});
//# sourceMappingURL=app.43b8008f.js.map